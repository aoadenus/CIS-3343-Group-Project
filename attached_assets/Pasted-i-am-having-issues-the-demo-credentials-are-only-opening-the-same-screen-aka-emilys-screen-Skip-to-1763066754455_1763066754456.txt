i am having issues the demo credentials are only opening the same screen aka emilys screen: [Skip to content](https://replit.com/@aoadenus/EmilyBakesCakes#main-content)
Files
Commands
npm run server:dev
13mÂ â€¢Â 14 minutes ago
npm run dev
6mÂ â€¢Â 7 minutes ago
[](https://a721f5a2-26f7-49c5-8928-423f82d41ffd-00-26tii9ec4y849.janeway.replit.dev/)
ğŸ¯ EMILY BAKES CAKES - FINAL IMPLEMENTATION PLAN
Single Source of Truth - CIS 3343 Case Study Compliance
Created:Â November 13, 2025
Updated:Â November 13, 2025 (Architecture clarified to pure staff-only)
Status:Â âœ… AUTHORITATIVE - All other documents superseded
Deadline:Â Saturday, November 15, 2025 (Prefinal Draft)
Architecture:Â Pure Staff-Only System (NO customer e-commerce)
ğŸ“‘ TABLE OF CONTENTS
[Executive Summary](https://replit.com/@aoadenus/EmilyBakesCakes#executive-summary)
[What Already Exists](https://replit.com/@aoadenus/EmilyBakesCakes#what-already-exists)
[What Must Be Added](https://replit.com/@aoadenus/EmilyBakesCakes#what-must-be-added)
[Complete Page Inventory](https://replit.com/@aoadenus/EmilyBakesCakes#complete-page-inventory)
[Role-Based Permissions](https://replit.com/@aoadenus/EmilyBakesCakes#role-based-permissions)
[Database Schema](https://replit.com/@aoadenus/EmilyBakesCakes#database-schema)
[6 Required Client Reports](https://replit.com/@aoadenus/EmilyBakesCakes#6-required-client-reports)
[Technical Stack](https://replit.com/@aoadenus/EmilyBakesCakes#technical-stack)
[Implementation Checklist](https://replit.com/@aoadenus/EmilyBakesCakes#implementation-checklist)
[Demo Credentials](https://replit.com/@aoadenus/EmilyBakesCakes#demo-credentials)
1. EXECUTIVE SUMMARY
Project Scope
"Emily Bakes Cakes" is aÂ pure staff-only internal order management systemÂ for CIS 3343 case study:
Public marketing websiteÂ (NO customer e-commerce - marketing/awareness only)
Staff-only order management portalÂ (ALL orders entered by staff)
Public order trackingÂ (auto-cycling demo page)
Email notificationsÂ (Resend integration)
Key Architecture Decision
Pure staff-only systemÂ - customers CANNOT order online. This approach:
âœ… Meets case study requirement: staff enter ALL orders
âœ… Public pages serve marketing/awareness purposes only
âœ… Customers call, email, or visit in person to place orders
âœ… Staff portal handles complete order lifecycle
Critical Business Rule (Case Study)
"Bakers and Decorators, if not busy, can also serve as sales staff."
Meaning:Â Baker and Decorator roles haveÂ FULL Sales permissionsÂ + their specialized functions.
2. WHAT ALREADY EXISTS âœ…
Public Website (5 pages - MARKETING ONLY)
PageRouteStatusNotes
Home
/
âš ï¸ Needs CTA fixes
Hero with invalid "Start Building" buttons
Shop
/shop
âš ï¸ Needs restructure
Must remove inquiry forms, convert to inspiration only
Gallery
/gallery
âš ï¸ Needs CTA fixes
Remove "Start Custom Builder" button
About
/about
âœ… Complete
Parisian-themed story page
Contact
/contact
âš ï¸ Needs enhancement
Add Google Maps, ordering workflow, remove Builder references
CRITICAL:Â Public pages must have ALL customer ordering CTAs removed. Customers call/email/visit to order.
Staff Portal (11 pages - BUILT, JWT auth completed)
PageRouteStatusNotes
Login
/admin/login
âœ… Complete
JWT auth with 6 demo staff accounts
5 Dashboards
/admin/analytics-dashboard
âœ… Complete
Role-based (Sales, Baker, Decorator, Accountant, Manager)
OrderBoard
/admin/fulfillment-board
âœ… Complete
Kanban drag-and-drop
OrderList
/admin/order-management
âœ… Complete
Table view with filtering
OrderCreate
/admin/order-create
âœ… Complete
Manual order form (staff enter ALL orders)
Inquiries
/admin/inquiry-management
âœ… Complete
Customer inquiry management
Products
/admin/inventory-management
âœ… Complete
Product CRUD
Customers
/admin/customer-accounts
âœ… Complete
Customer CRUD with search
Reports
/admin/business-intelligence
âš ï¸ In Progress
Needs 6 specific reports with Recharts
Settings
/admin/system-configuration
âœ… Complete
System config
Tracking
/track/:token
âœ… Complete
Public tracking with 11-stage auto-cycling (2-min loop)
Database (Drizzle ORM - WORKING)
Existing Tables:
âœ…Â productsÂ - Full product catalog
âœ…Â customersÂ - Customer records with VIP status
âœ…Â ordersÂ - Orders with JSON layers field, tracking_token, assigned staff
âœ…Â employeesÂ - Staff with roles, passwords, JWT auth
âœ…Â order_status_historyÂ - Status change tracking
âœ…Â inquiriesÂ - Customer inquiries (NOT orders)
âœ…Â contact_messagesÂ - Contact form submissions
âœ…Â paymentsÂ - Payment tracking
Tech Stack (WORKING)
âœ… React 18.3.1 + TypeScript
âœ… Vite 6.3.5
âœ… Drizzle ORM (PostgreSQL)
âœ… Express backend
âœ… Recharts (analytics working)
âœ… Tailwind CSS 4.1
âœ… Radix UI components
âœ… Motion (Framer Motion)
3. WHAT MUST BE ADDED ğŸ†•
Remaining Tasks for Case Study Compliance
A. âœ… COMPLETED
âœ…Â employeesÂ tableÂ - Staff with roles, JWT auth (6 demo accounts)
âœ…Â Order tracking tokensÂ -Â tracking_tokenÂ field added to orders
âœ…Â Order status historyÂ - Tracking table with timestamps
âœ…Â Public Tracking PageÂ (/track/:token) - Auto-cycling demo (11 stages, 2-min loop)
âœ…Â JWT AuthenticationÂ - Login, token validation, protected routes
âœ…Â 5 Role-Based DashboardsÂ - Sales, Baker (+ Sales tab), Decorator (+ Sales tab), Accountant, Manager
B. âš ï¸ IN PROGRESS
6 Client ReportsÂ - Order Summary, Customer List, Revenue, Pending Orders, Completed Orders, Product Inventory
Critical UI FixesÂ - Remove all customer ordering CTAs from public pages
C. ğŸ”œ PENDING
Email NotificationsÂ - Resend integration for order tracking
Google MapsÂ - Contact page embed
Final TestingÂ - All role permissions, workflows, mobile responsiveness
E. Six Client Reports (with Recharts)
Order Summary Report
Customer List Report
Revenue Report (Accountant/Manager only)
Pending Orders Report
Completed Orders Report
Product Inventory Report (Manager only)
F. Email Service
Resend integration
Order creation notification
Tracking link in email
G. Google Maps Integration
Embed map in Contact page (no API key needed)
4. COMPLETE PAGE INVENTORY
Final Page Count:Â 16 Pages TotalÂ (Pure Staff-Only System)
PUBLIC MARKETING WEBSITE (5 pages - NO customer ordering)
Home -Â /Â âš ï¸ (remove "Start Building" CTAs)
Shop -Â /shopÂ âš ï¸ (convert to inspiration-only, remove inquiry forms)
Gallery -Â /galleryÂ âš ï¸ (remove "Start Custom Builder" button)
About -Â /aboutÂ âœ… (complete)
Contact -Â /contactÂ âš ï¸ (add Google Maps, ordering workflow)
CRITICAL:Â All public pages must emphasize phone/email/visit ordering only. NO customer online ordering capability.
PUBLIC TRACKING (1 page)
Track OrderÂ -Â /track/:tokenÂ âœ… (auto-cycling 11 stages, 2-min loop)
STAFF PORTAL (10 pages - JWT authenticated)
Staff LoginÂ -Â /admin/loginÂ âœ… (JWT complete)
Role-Based DashboardsÂ -Â /admin/analytics-dashboardÂ âœ… (ONE page with 5 role views)
Sales Dashboard (role: sales)
Baker Dashboard (role: baker + Sales tab)
Decorator Dashboard (role: decorator + Sales tab)
Accountant Dashboard (role: accountant)
Manager Dashboard (role: manager/owner)
Fulfillment Board -Â /admin/fulfillment-boardÂ âœ… (Kanban)
Orders List -Â /admin/order-managementÂ âœ… (table with filters)
Order Create -Â /admin/order-createÂ âœ… (staff enter ALL orders)
Customers -Â /admin/customer-accountsÂ âœ… (CRM)
Products -Â /admin/inventory-managementÂ âœ… (product CRUD)
Reports -Â /admin/business-intelligenceÂ âš ï¸ (needs 6 reports with Recharts)
Inquiries -Â /admin/inquiry-managementÂ âœ… (from public contact forms)
Settings -Â /admin/system-configurationÂ âœ… (system config)
5. ROLE-BASED PERMISSIONS
Permission Matrix
PermissionSalesBakerDecoratorAccountantManager
ORDERS
Create orders
âœ…
âœ…
âœ…
âŒ
âœ…
View all orders
âœ…
âœ…
âœ…
âœ… (read)
âœ…
Edit orders
âœ…
âœ…
âœ…
âŒ
âœ…
Update status (own area)
Limited
âœ… Baking
âœ… Decorating
âŒ
âœ… All
Cancel orders
âŒ
âŒ
âŒ
âŒ
âœ…
Assign to staff
âŒ
âŒ
âŒ
âŒ
âœ…
CUSTOMERS
View all
âœ…
âœ…
âœ…
âœ… (read)
âœ…
Add/edit
âœ…
âœ…
âœ…
âŒ
âœ…
Mark VIP
âŒ
âŒ
âŒ
âŒ
âœ…
PRODUCTS
View
âœ…
âœ…
âœ…
âœ…
âœ…
Edit
âŒ
âŒ
âŒ
âŒ
âœ…
FINANCIAL
View revenue/KPIs
âŒ
âŒ
âŒ
âœ…
âœ…
Update payments
âŒ
âŒ
âŒ
âœ…
âœ…
REPORTS
Order Summary
âœ…
âœ…
âœ…
âŒ
âœ…
Customer List
âœ…
âœ…
âœ…
âŒ
âœ…
Revenue Report
âŒ
âŒ
âŒ
âœ…
âœ…
Pending Orders
âœ…
âœ…
âœ…
âŒ
âœ…
Completed Orders
âŒ
âœ…
âœ…
âŒ
âœ…
Product Inventory
âŒ
âŒ
âŒ
âŒ
âœ…
Dashboard Features by Role
Sales Dashboard
Quick action: Create new order
Today's pickups (5-item list)
Pending customer follow-ups
Recent orders (all orders for coordination)
Recent customers
Baker DashboardÂ âš ï¸ CRITICAL
My Baking QueueÂ (top priority - orders assigned to them)
FULL SALES ACCESSÂ when not busy:
Create orders
Manage customers
View all orders
Layer-by-layer progress tracking
Tomorrow's schedule preview
Decorator DashboardÂ âš ï¸ CRITICAL
My Decoration QueueÂ (orders ready for decoration)
FULL SALES ACCESSÂ when not busy:
Create orders
Manage customers
View all orders
Customer photo references
Design gallery
Accountant Dashboard
Financial KPIs (revenue, deposits, outstanding)
Revenue trend chart (Recharts line)
Outstanding balances tracker
Access to all 6 reports
Payment status updates
Manager Dashboard
Complete system overview
All KPIs + charts
Staff performance tracking
Order pipeline (Kanban view)
Full CRUD on all entities
6. DATABASE SCHEMA
New Table:Â employees
export const employees = pgTable('employees', {
  id: serial('id').primaryKey(),
  email: varchar('email', { length: 255 }).notNull().unique(),
  passwordHash: varchar('password_hash', { length: 255 }).notNull(),
  name: varchar('name', { length: 255 }).notNull(),
  role: varchar('role', { length: 20 }).notNull(), // 'sales', 'baker', 'decorator', 'accountant', 'manager', 'owner'
  isActive: boolean('is_active').default(true).notNull(),
  createdAt: timestamp('created_at').defaultNow().notNull(),
  updatedAt: timestamp('updated_at').defaultNow().notNull(),
});
Updated Table:Â ordersÂ (add tracking)
// Add these fields to existing orders table:
trackingToken: varchar('tracking_token', { length: 50 }).unique(),
assignedBaker: integer('assigned_baker').references(() => employees.id),
assignedDecorator: integer('assigned_decorator').references(() => employees.id),
New Table:Â order_status_history
export const orderStatusHistory = pgTable('order_status_history', {
  id: serial('id').primaryKey(),
  orderId: integer('order_id').references(() => orders.id).notNull(),
  oldStatus: varchar('old_status', { length: 50 }),
  newStatus: varchar('new_status', { length: 50 }).notNull(),
  updatedBy: integer('updated_by').references(() => employees.id),
  createdAt: timestamp('created_at').defaultNow().notNull(),
});
7. SIX REQUIRED CLIENT REPORTS
Report 1: Order Summary Report
Access:Â Sales, Baker, Decorator, Manager
Route:Â /staff/reports/order-summary
Features:
Date range picker (default: today)
Filter by status, assigned staff
Table: Order#, Customer, Product, Pickup, Status, Price, Deposit, Balance
Chart:Â Bar chart - Order volume by day (Recharts)
Export: CSV, PDF
Totals row
Implementation:
// Use existing Recharts infrastructure
<BarChart data={ordersByDay}>
  <Bar dataKey="count" fill="#C44569" />
</BarChart>
Report 2: Customer List Report
Access:Â Sales, Baker, Decorator, Manager
Route:Â /staff/reports/customer-list
Features:
Columns: Name, Email, Phone, Type, Total Orders, Total Spent
Filters: Type (Retail/Corporate), spending range, VIP only
Chart:Â Line chart - Customer acquisition over time (Recharts)
Export: Email list, Phone list, Full CSV, PDF
Report 3: Revenue Report â­
Access:Â Accountant, Manager ONLY
Route:Â /staff/reports/revenue
Features:
Time periods: Day / Week / Month / Custom
KPI cards: Total Revenue, Deposits, Outstanding, Collection Rate
3 Charts (Recharts):
Revenue trend (line chart)
Revenue by product type (pie chart)
Monthly comparison (bar chart)
Breakdown by cake size, order type, payment method
Export: CSV, PDF, Excel
Report 4: Pending Orders Report
Access:Â Sales, Baker, Decorator, Manager
Route:Â /staff/reports/pending-orders
Features:
Statuses: Quote, Pending, Confirmed, In Production
Columns: Order#, Customer, Pickup Date, Days Until Due, Staff, Status
Chart:Â Funnel chart - Orders by status (Recharts)
Color coding: ğŸŸ¢ Green (>2 days), ğŸŸ¡ Yellow (24-48h), ğŸ”´ Red (<24h)
Report 5: Completed Orders Report
Access:Â Baker, Decorator, Manager
Route:Â /staff/reports/completed-orders
Features:
Columns: Completion Date, Customer, Baker, Decorator, Days to Complete, Rating, Price
Chart:Â Bar chart - Avg completion time by order type (Recharts)
Filters: Date range, staff, satisfaction rating
Report 6: Product Inventory Report
Access:Â Manager ONLY
Route:Â /staff/reports/product-inventory
Features:
Columns: Product, Category, Price, Times Ordered, Revenue, Trending
Chart:Â Horizontal bar chart - Top 10 products by revenue (Recharts)
Filters: Category, popularity, date range
8. TECHNICAL STACK
Confirmed Technologies (Keep Existing)
âœ…Â Frontend:Â React 18.3.1 + TypeScript
âœ…Â Build Tool:Â Vite 6.3.5
âœ…Â Styling:Â Tailwind CSS 4.1
âœ…Â UI Components:Â Radix UI
âœ…Â Animation:Â Motion (Framer Motion)
âœ…Â Charts:Â Recharts
âœ…Â Forms:Â React Hook Form
âœ…Â Icons:Â Lucide React
âœ…Â Toast:Â Sonner
âœ…Â Backend:Â Node.js + Express (TypeScript)
âœ…Â Database:Â PostgreSQL (Replit Neon)
âœ…Â ORM:Â Drizzle ORM
New Integrations (Add)
ğŸ†•Â Authentication:Â jsonwebtoken + bcryptjs
ğŸ†•Â Email Service:Â Resend (simple, no SMTP)
ğŸ†•Â Maps:Â Google Maps embed (no API key)
Configuration
Port: 5000 (frontend + backend proxy)
Host: 0.0.0.0 (Replit requirement)
CORS: Enabled for all origins
9. IMPLEMENTATION CHECKLIST
Phase 1: Database & Auth (Tasks 1-3)
Â AddÂ employeesÂ table to schema
Â AddÂ order_status_historyÂ table
Â UpdateÂ ordersÂ table (add tracking_token, assigned_baker, assigned_decorator)
Â Seed 6 demo staff accounts
Â Implement JWT authentication (login endpoint)
Â Create auth middleware for protected routes
Phase 2: Public Tracking Page (Task 2)
Â CreateÂ /track/:tokenÂ route
Â Build TrackingPage component with 11-stage auto-cycling
Â Implement 2-minute interval timer
Â Add progress bar and status timeline UI
Â Make mobile-responsive
11 Tracking Stages (2-min cycle, loops forever):
Order Placed
Design Approved
Pending Baking
Baking in Progress
Cooling
Ready for Decorating
Decorating
Decorated Complete
Quality Check
Ready for Pickup
Picked Up â†’ loops back to #1
Phase 3: Role-Based Dashboards (Tasks 4-5)
Â Create SalesDashboard component
Â Create BakerDashboard component (with Sales access)
Â Create DecoratorDashboard component (with Sales access)
Â Create AccountantDashboard component
Â Create ManagerDashboard component
Â Implement role-based navigation menus
Â Add role-based permission checks
Phase 4: Six Client Reports (Task 6)
Â Report 1: Order Summary (with bar chart)
Â Report 2: Customer List (with line chart)
Â Report 3: Revenue Report (with 3 charts)
Â Report 4: Pending Orders (with funnel chart)
Â Report 5: Completed Orders (with bar chart)
Â Report 6: Product Inventory (with horizontal bar chart)
Â Add CSV/PDF export functionality
Phase 5: Email Integration (Task 7)
Â Set up Resend integration
Â Create email template for order tracking
Â Send email on order creation with tracking link
Â Test email delivery
Phase 6: Contact Page Enhancement (Task 9)
Â Add Google Maps iframe embed
Â Test map responsiveness
Phase 7: Testing & Polish
Â Test all role-based permissions
Â Test tracking page auto-cycling
Â Verify all 6 reports work
Â Test email notifications
Â Mobile responsiveness check
Â Update replit.md
10. DEMO CREDENTIALS
6 Staff Accounts (All passwords:Â DemoPass123!)
Emily (Owner)
Email:Â [emily@emilybakes.com](mailto:emily@emilybakes.com)
Role:Â owner
Access: Full system access
James (Manager)
Email:Â [manager@emilybakes.com](mailto:manager@emilybakes.com)
Role:Â manager
Access: Full system access, all 6 reports
Sarah (Sales)
Email:Â [sales@emilybakes.com](mailto:sales@emilybakes.com)
Role:Â sales
Access: Orders, customers, 4 reports
Tom (Baker)
Email:Â [baker@emilybakes.com](mailto:baker@emilybakes.com)
Role:Â baker
Access:Â FULL SALES + Baking queue, 4 reports
Lisa (Decorator)
Email:Â [decorator@emilybakes.com](mailto:decorator@emilybakes.com)
Role:Â decorator
Access:Â FULL SALES + Decoration queue, 4 reports
Dan (Accountant)
Email:Â [accountant@emilybakes.com](mailto:accountant@emilybakes.com)
Role:Â accountant
Access: View-only orders/customers, all 6 reports, financial KPIs
11. PUBLIC TRACKING PAGE SPECIFICATION
Route:Â /track/:token
Purpose:Â Public order tracking (no login required)
Features:
Auto-cycling status (changes every 2 minutes)
Continuous loop (never stops)
Order details (customer, pickup date/time, price, deposit)
Progress bar (fills as status advances)
Vertical status timeline
Elapsed time + estimated completion
Mobile-responsive
Auto-Cycling Logic:
// Calculate current stage based on time
const startTime = new Date(order.created_at);
const now = new Date();
const elapsedMinutes = (now - startTime) / 1000 / 60;
const currentStage = Math.floor(elapsedMinutes / 2) % 11;
// Stages array (11 total)
const stages = [
  'Order Placed',
  'Design Approved',
  'Pending Baking',
  'Baking in Progress',
  'Cooling',
  'Ready for Decorating',
  'Decorating',
  'Decorated Complete',
  'Quality Check',
  'Ready for Pickup',
  'Picked Up'
];
// Update UI every 10 seconds
setInterval(() => updateStatus(), 10000);
Email Workflow:
Staff creates order in dashboard
System generates unique tracking token
Email sent via Resend with link:Â /track/{token}
Customer clicks â†’ sees tracking page
Page auto-advances every 2 minutes (loops forever)
12. API ENDPOINTS
Authentication
POST /api/auth/staff-loginÂ - Staff login (returns JWT)
POST /api/auth/logoutÂ - Logout
Staff
GET /api/staffÂ - Get all staff (Manager only)
GET /api/staff/meÂ - Get current user info
Orders (Enhanced)
GET /api/ordersÂ - Get all orders (filtered by role)
POST /api/ordersÂ - Create order (generates tracking token, sends email)
PATCH /api/orders/:id/statusÂ - Update order status
GET /api/orders/track/:tokenÂ - Public tracking (no auth)
Reports (New)
GET /api/reports/order-summary?date=2025-11-13
GET /api/reports/customer-list
GET /api/reports/revenue?period=month
GET /api/reports/pending-orders
GET /api/reports/completed-orders
GET /api/reports/product-inventory
13. NAVIGATION STRUCTURE
Public Navigation
[Logo] Emily Bakes Cakes
[Home] [Shop] [Gallery] [About] [Contact]
Staff Navigation (Role-Based)
Sales:
[Dashboard] [Create Order] [Orders] [Customers] [Products] [Reports] [Logout]
Baker:
[Dashboard] [My Queue] [Create Order] [Orders] [Customers] [Reports] [Logout]
Decorator:
[Dashboard] [My Queue] [Create Order] [Orders] [Customers] [Gallery] [Reports] [Logout]
Accountant:
[Dashboard] [Orders] [Customers] [Reports] [Analytics] [Payments] [Logout]
Manager:
[Dashboard] [Orders] [Customers] [Products] [Staff] [Reports] [Analytics] [Settings] [Logout]
âœ… FINAL ARCHITECTURE SUMMARY
Total Functional Pages:Â 16 (5 public marketing + 1 tracking + 10 staff portal)
Pure Staff-Only System:
Public pages: Marketing/awareness only, NO customer online ordering
Staff portal: Role-based dashboards with JWT authentication
Order entry: Staff manually create ALL orders through admin portal
Customer ordering: Call/email/visit in person only
Public tracking: Auto-cycling demo (11 stages, 2-min loop)
Email notifications: Resend integration for order tracking
Reports: 6 client reports with Recharts visualization
System Compliance:
âœ… Pure staff-only ordering (no customer e-commerce)
âœ… Baker/Decorator have FULL Sales permissions (case study requirement)
âœ… 5 role-based dashboards with session management
âœ… JWT authentication with 6 demo staff accounts
âœ… PostgreSQL database with complete schema
âœ… Public tracking with auto-cycling demonstration
âš ï¸ Need to remove all customer ordering CTAs from public pages
âš ï¸ Need to build 6 client reports with Recharts
âš ï¸ Need Resend email integration
âš ï¸ Need Google Maps on Contact page
Status:Â âœ… AUTHORITATIVE - Single Source of Truth
Last Updated:Â November 13, 2025
All Other Documents:Â Superseded by this plan
Improve toast component accessibility and behavior for better user feedback
Get customer list with spending filters
0Â /Â 9
Checkpoint made24 minutes ago
Saved progress at the end of the loop
2 minutes of work
TIER 2 â€“ STEP 1
Implement the backend tracking endpoint:
GET /api/orders/track/:token
Requirements:
â€¢ Lookup order by trackingToken.
â€¢ Return order details: id, customer info, pickup date/time, price, deposit.
â€¢ Do NOT require login.
â€¢ Do NOT break existing order endpoints.
â€¢ Validate: returns 404 if token invalid.
After coding:
â€¢ Self-test the endpoint with mock token.
â€¢ Print a short PASS/FAIL summary only.
24 minutes ago
Checkpoint made21 minutes ago
Add public endpoint for tracking order status and details
2 minutes of work
TIER 2 â€“ STEP 2
Create the React utility logic for the 11-stage auto-cycling order tracking system.
Requirements:
â€¢ Build a small TypeScript function getCurrentStage(orderCreatedAt: string) that:
â€“ Calculates elapsed minutes since creation.
â€“ Divides by 2-minute interval.
â€“ Uses modulo 11.
â€“ Returns the correct stage index (0â€“10).
â€¢ Add the static stages array inside the same file:
[
"Order Placed",
"Design Approved",
"Pending Baking",
"Baking in Progress",
"Cooling",
"Ready for Decorating",
"Decorating",
"Decorated Complete",
"Quality Check",
"Ready for Pickup",
"Picked Up"
]
â€¢ Export both items so the TrackingPage component can import them.
â€¢ Do NOT create the UI yet.
â€¢ Do NOT alter existing components.
â€¢ Just implement the utility logic cleanly in src/utils/tracking.ts.
After coding:
â€¢ Self-test with a mocked timestamp.
â€¢ Print a short PASS/FAIL summary only.
Stop when finished. Do NOT continue to next tier.
21 minutes ago
Checkpoint made20 minutes ago
Add logic to determine the current stage of an order
56 seconds of work
TIER 2 â€“ STEP 3
Create the React component shell for the public order tracking page:
src/pages/TrackingPage.tsx
Requirements:
â€¢ Import getCurrentStage and stages[] from the tracking utils.
â€¢ Fetch order data from GET /api/orders/track/:token.
â€¢ Use useParams() to read token.
â€¢ Create state: order, currentStageIndex.
â€¢ Use setInterval every 10 seconds to update stage index using getCurrentStage.
â€¢ DO NOT build the full UI yet.
â€¢ Only return a minimal placeholder JSX structure:
<div> <h1>Tracking Order</h1> <p>Stage: {stages[currentStageIndex]}</p> </div>
â€¢ Do NOT modify navigation or routes.
â€¢ Do NOT implement the progress bar or timeline yet.
After coding:
â€¢ Self-test using a mocked order response.
â€¢ Print PASS/FAIL summary only.
Stop after finishing. Do NOT continue to the next tier.
20 minutes ago
Checkpoint made18 minutes ago
Add public order tracking page component with dynamic stage updates
1 minute of work
TIER 2 â€“ STEP 4
Create a reusable progress bar component for the tracking page.
File: src/components/TrackingProgressBar.tsx
Requirements:
â€¢ Props: currentStageIndex (number), totalStages (number).
â€¢ Render a horizontal bar with:
â€“ Background: muted/gray
â€“ Filled portion: width = (currentStageIndex + 1) / totalStages * 100%
â€¢ Use Tailwind for styling.
â€¢ No animations yet.
â€¢ Component must not depend on page layout.
After coding:
â€¢ Add basic export so TrackingPage can import it later.
â€¢ Self-test with 0, 5, and 10 as stage values.
â€¢ Print PASS/FAIL summary only.
Stop after finishing. Do NOT proceed to next steps.
18 minutes ago
Checkpoint made17 minutes ago
Add a reusable progress bar for tracking user progress
54 seconds of work
TIER 2 â€“ STEP 5
Create a vertical timeline component for the tracking page.
File: src/components/TrackingTimeline.tsx
Requirements:
â€¢ Props:
â€“ stages: string[]
â€“ currentStageIndex: number
â€¢ Render a vertical list of all stages.
â€¢ For each stage:
â€“ If index < currentStageIndex â†’ mark as complete (use green text or dot).
â€“ If index === currentStageIndex â†’ mark as active (bold or accent color).
â€“ If index > currentStageIndex â†’ mark as upcoming (gray).
â€¢ Use clean Tailwind classes only.
â€¢ Do NOT add animations or icons yet.
After coding:
â€¢ Export default component.
â€¢ Self-test with stage index 0, 4, and 10.
â€¢ Print PASS/FAIL summary only.
Stop when finished. Do NOT begin UI integration yet.
17 minutes ago
Checkpoint made15 minutes ago
Add a vertical timeline to show tracking progress and stages
1 minute of work
TIER 3 OBJECTIVE:* Create 6 role-based Recharts reports with filters, exports (CSV/PDF), and role-based access.
REPORT 1: Order SummaryÂ (/staff/reports/order-summary)
Access: Sales, Baker, Decorator, Manager
Bar chart: Orders by day (past 30 days)
Table: Order #, Customer, Pickup, Status, Price, Balance
Features: Date range picker, status filter, CSV/PDF export
Totals: Count + Total Revenue
15 minutes ago
Checkpoint made3 minutes ago
Saved progress at the end of the loop
11 minutes of work
REPORT 2: Customer ListÂ (/staff/reports/customer-list)
Access: Sales, Baker, Decorator, Manager
Line chart: Customer acquisition trend
Table: Name, Email, Phone, Type, Orders Count, Total Spent
Filters: Retail/Corporate, spending range
Export: CSV (names/emails/phones)
3 minutes ago
I'll buildÂ REPORT 2: Customer ListÂ with customer acquisition trends and comprehensive customer analytics.
Let me start by checking the customer schema and creating the storage function:
Now I'll create the storage function and API endpoint for the customer list report:
Good point! Let me call the architect to review my customer type classification approach:
Excellent architect feedback! I'll implement the proper solution with an explicitÂ customer_typeÂ column and SQL-based filtering:
Now let me push the schema changes to the database and update the storage function with SQL-based filtering:
Good feedback! Let me consult the architect about the implementation approach:
Understood! I'll refactor to use a PostgreSQL ENUM for proper type safety. Let me implement this:
Perfect! The ENUM schema is now in the database. Let me update the storage function to use SQL HAVING clauses for spending filters:
Working
Queue(18Â messages)
Make, test, iterateâ€¦
BuildPlanEdit